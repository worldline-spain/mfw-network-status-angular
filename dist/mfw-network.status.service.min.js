!function(){"use strict";function a(a,b){var c={isOnline:function(){return navigator.onLine},isOffline:function(){return!navigator.onLine},onOnline:function(a){var c=a;return b.addEventListener("online",c,!1),function(){b.removeEventListener("online",c)}},onOffline:function(a){var c=a;return b.addEventListener("offline",c,!1),function(){b.removeEventListener("offline",c)}}};return c}function b(){var a={networkStatusService:"$mfwHtml5NetworkStatus",downStatusCodes:[0,502,503,504]},b={};this.config=function(b){a=angular.extend({},a,b||{})},this.$get=["$log","$q","$injector","$rootScope","$timeout",function(c,d,e,f,g){function h(){x.onOnline(function(){c.debug("Network is UP: online mode.")}),x.onOffline(function(){c.debug("Network is DOWN: offline mode.")})}function i(){return x.isOnline()}function j(){return x.isOffline()}function k(a){if(!angular.isString(a)){var c;for(var d in b)if(a.exec(d)){if(b[d])return!0;c=!1}return c}if(a in b)return b[a]}function l(a){return x.onOnline(a)}function m(a){return x.onOffline(a)}function n(a,b){return s(a,b),function(){t(a,b)}}function o(a,d){var e=b[a];if(2===arguments.length){var f=r(d);b[a]=f,e!==f&&(c.debug("Endpoint",a,"status changed to online =",f),e=f,g(function(){u(a,f)}))}return e}function p(a){var b=q(a);return new RegExp(b)}function q(a){return"^"+a.replace(/([\:\/\.\?])/g,"\\$1")}function r(b){return a.downStatusCodes.indexOf(b.status)===-1}function s(a,b){var c;angular.isString(a)?c=v:(c=w,a=a.source),a in c||(c[a]=[]),c[a].push(b)}function t(a,b){var c;angular.isString(a)?c=v:(c=w,a=a.source);var d=c[a].indexOf(b);c[a].splice(d,1)}function u(a,b){function d(c){c(b,a)}c.debug("Triggering endpoint status changed for endpoint",a,"online =",b),angular.forEach(v[a],d);for(var e in w)a.match(e)&&angular.forEach(w[a],d)}var v={},w={},x=e.get(a.networkStatusService),y={isOnline:i,isOffline:j,isEndpointUp:k,onOnline:l,onOffline:m,onEndpointStatusChange:n,setEndpointStatus:o,endpointUrlMatcher:p};return h(),y}]}var c=angular.module("mfw.network.status",[]);c.factory("$mfwHtml5NetworkStatus",a),a.$inject=["$log","$window"],c.provider("$mfwNetwork",b),b.$inject=[]}();
//# sourceMappingURL=mfw-network.status.service.min.js.map