!function(){"use strict";function a(a,b){var c={isOnline:function(){return navigator.onLine},isOffline:function(){return!navigator.onLine},onOnline:function(a){var c=a;return b.addEventListener("online",c,!1),function(){b.removeEventListener("online",c)}},onOffline:function(a){var c=a;return b.addEventListener("offline",c,!1),function(){b.removeEventListener("offline",c)}}};return c}function b(){var a={networkStatusService:"$mfwHtml5NetworkStatus",downStatusCodes:[0,502,503,504]},b={};this.config=function(b){a=angular.extend({},a,b||{})},this.$get=["$log","$q","$injector","$rootScope","$timeout",function(c,d,e,f,g){function h(){u.onOnline(function(){c.debug("Network is UP: online mode.")}),u.onOffline(function(){c.debug("Network is DOWN: offline mode.")})}function i(){return u.isOnline()}function j(){return u.isOffline()}function k(a){return b[a]!==!1}function l(a){return u.onOnline(a)}function m(a){return u.onOffline(a)}function n(a,b){return q(a,b),function(){r(a,b)}}function o(a,d){if(2===arguments.length){var e=b[a],f=p(d);b[a]=f,e!==f&&(c.debug("Endpoint",a,"status changed to online =",f),g(function(){s(a)}))}return k(a)}function p(b){return a.downStatusCodes.indexOf(b.status)===-1}function q(a,b){a in t||(t[a]=[]),t[a].push(b)}function r(a,b){var c=t[a].indexOf(b);t[a].splice(c,1)}function s(a){c.debug("Triggering endpoint status changed for endpoint",a);var b=k(a);angular.forEach(t[a],function(c){c(b,a)})}var t={},u=e.get(a.networkStatusService),v={isOnline:i,isOffline:j,isEndpointUp:k,onOnline:l,onOffline:m,onEndpointStatusChange:n,setEndpointStatus:o};return h(),v}]}var c=angular.module("mfw.network.status",[]);c.factory("$mfwHtml5NetworkStatus",a),a.$inject=["$log","$window"],c.provider("$mfwNetwork",b),b.$inject=[]}();
//# sourceMappingURL=mfw-network.status.service.min.js.map